*fixes and patches*
Recategorized orders for a clearer and more intuitive flow.
Added the option to defer payments for orders.
Introduced a table numbering system for better order tracking.
Table number and order type (dine-in or take-out) are now displayed on the billing form.
Orders can now be canceled or modified at the menu item level.  



@app.route("/menu")
@login_required
def menu():
    # check if customer have chosen order type
    if 'type' not in session or not session['type']:
        return redirect("/")
    # fetch menu list
    main = db.execute('SELECT * FROM menu_list').fetchall()

    # Fetch the username in current session
    username = db.execute('SELECT username FROM users WHERE id = ?', (session['user_id'],)).fetchone()
    username = username['username']

    # Load Sessions
    cart = session.get('cart', [])
    total = session.get('total', 0) #return str in the format (x,xxx)
    tax = session.get('tax', 0) #return str format (x,xxx)
    cash = session.get('cashPaid', 0) #return str format (Rp x,xxx)
    tableNumber = session.get('tableNumber',"")
    deliveryType = session.get('type','cart').capitalize()
    finish_edit_order = session.get('edit_order', '')
    change = 0

    # changed them to int   
    cashValue = parseInt(cash)
    totalValue = parseInt(total)
    
    # format them add currency
    if cash and tax and total not in ['0',0]:
        tax = f'Rp {tax}'
        total = f'Rp {total}'
        change = "Rp {:,}".format(cashValue - totalValue)

    return render_template("menu.html", main=main, cart=cart, total=total, tax=tax, cash=cash, change=change, cashValue=cashValue, deliveryType=deliveryType, tableNumber=tableNumber, finish_edit_order=finish_edit_order)

@app.route("/menu")
@login_required
def menu():
    if 'type' not in session or not session['type']:
        return redirect("/")
    #display menu list
    main = db.execute('SELECT * FROM menu_list').fetchall()
    # Fetch the username
    username = db.execute('SELECT username FROM users WHERE id = ?', (session['user_id'],)).fetchone()
    username = username['username']
    # Get the cart from the session
    cart = session.get('cart', [])
    total = f"Rp {session.get('total', 0)}"
    tax = session.get('tax', 0)
    cash = session.get('cashPaid', 0)
    deliveryType = session.get('type','cart')
    deliveryType = deliveryType.capitalize()
    cashValue = int(str(cash).replace("Rp", "").replace(",", "").strip())
    totalValue = int(str(total).replace("Rp", "").replace(",", "").strip())
    tableNumber = session.get('tableNumber',"")
    finish_edit_order = session.get('edit_order', '')
    change = 0
    if cash != 0 and total != 0:
        change = "Rp {:,}".format(cashValue - totalValue)
    else:
        change = 0
    if tax != '0' and tax != 0:
        tax = f'Rp {tax}'
    else:
        tax = 0
    return render_template("menu.html", main=main, cart=cart, total=total, tax=tax, cash=cash, change=change, cashValue=cashValue, deliveryType=deliveryType, tableNumber=tableNumber, finish_edit_order=finish_edit_order)


    <div class="mycontainer">
    <div class="firstcol">
        <div class="subPostHeaderWrapper">
            <div class="subPostHeader">
                <div class="headitem {{'active-nav' if category == 'All' }}"><a href="/menu">All</a></div>
                <div class="headitem {{'active-nav' if category == 'Appetizers' }}"><a href="/Appetizers">Appetizers</a></div>
                <div class="headitem {{'active-nav' if category == 'Main Course' }}"><a href="/Main Course">Main Course</a></div>
                <div class="headitem {{'active-nav' if category == 'Side dish' }}"><a href="/Side dish">Side dish</a></div>
                <div class="headitem {{'active-nav' if category == 'Drinks' }}"><a href="/Drinks">Drinks</a></div>
                <div class="headitem {{'active-nav' if category == 'Breads' }}"><a href="/Breads">Breads</a></div>
                <div class="headitem {{'active-nav' if category == 'Desserts' }}"><a href="/Desserts">Desserts</a></div>
                <div class="headitem {{'active-nav' if category == 'Additionals' }}"><a href="/Additionals">Additionals</a></div>
            </div>
        </div>
        

<td style="display: flex; justify-content: center;">
                                    <div class="dropdown">
                                        <button class="btn btn-update dropdown-toggle" type="button" id="actionMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
                                            Actions
                                        </button>
                                        <ul class="dropdown-menu" aria-labelledby="actionMenuButton">
                                            <li>
                                                {% if order['payment_status'] == 'unpaid' and order['status'] == 'new' %}
                                                <a href="/edit_order?orders={{ order['order_number'] }}" style="text-decoration: none;">
                                                    <button class="dropdown-item edit-order" type="button" data-order="{{ order['order_number'] }}">
                                                        <i class="fas fa-pen"></i> Edit Order
                                                    </button>
                                                </a>
                                                {% endif %}
                                            </li>                                            
                                            <li>
                                                <button class="dropdown-item view-button" type="button" data-order="{{ order['order_number'] }}">
                                                    <i class="fas fa-eye"></i> View Order
                                                </button>
                                            </li>
                                            <li></li>
                                                <button class="dropdown-item receipt-button" type="button" data-order="{{ order['order_number'] }}">
                                                    <i class="fas fa-eye"></i> View Receipt
                                                </button>
                                            </li>
                                            <li>
                                                <button class="dropdown-item print-order" type="button" data-order="{{ order['order_number'] }}">
                                                    <i class="fas fa-print"></i> Print Order
                                                </button>
                                            </li>
                                            <li>
                                                <button class="dropdown-item print-receipt" type="button" data-order="{{ order['order_number'] }}">
                                                    <i class="fas fa-print"></i> Print Receipt
                                                </button>
                                            </li>
                                            <li>
                                                <a href="/sync_payment/{{order['order_number']}} " style="text-decoration: none;">
                                                    <button class="dropdown-item sync-payment" type="button" data-order="{{ order['order_number'] }}">
                                                        <i class="fas fa-sync-alt"></i> sync Payment
                                                    </button>
                                                </a>
                                            </li>
                                            <li><hr class="dropdown-divider"></li>
                                            <li>
                                                <a class="dropdown-item" href="/update/{{ order['order_number'] }}/completed">
                                                    <i class="fas fa-check"></i> Complete Order
                                                </a>
                                            </li>
                                            <li>
                                                <a class="dropdown-item" href="/update/{{ order['order_number'] }}/cancelled">
                                                    <i class="fas fa-times"></i> Cancel Order
                                                </a>
                                            </li>
                                        </ul>
                                    </div>
                                </td>     




    if (choice === 'Add Menu') {
        addMenuForm.classList.add('current');
        addMenuForm.classList.remove('d-none');
        addCategoryForm.classList.remove('current');
        addCategoryForm.classList.add('d-none');
    }
    if (choice == 'Add Category'){
        addCategoryForm.classList.add('current');
        addCategoryForm.classList.remove('d-none');
        addMenuForm.classList.remove('current');
        addMenuForm.classList.add('d-none');
    }